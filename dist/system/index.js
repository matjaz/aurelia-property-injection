var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};System.register(["aurelia-metadata","aurelia-dependency-injection"],function(t){function e(t,e){if(!e)return function(e,r){n(e,r,t)};var a=r.Metadata.getOwn("design:type",t,e);n(t,e,a)}function n(t,e,n){if(n){var a=t.constructor,o=r.Metadata.getOwn(i,a);if(!o){var s=r.Metadata.getOwn(r.Metadata.instanceActivator,a);if(s){if(!(s instanceof c))throw new Error("Instance activator already set. Can not use property injection.")}else r.Metadata.define(r.Metadata.instanceActivator,c.instance,a);o={},r.Metadata.define(i,o,a)}o[e]=n}}var r,a,i,o,c;return t("inject",e),{setters:[function(t){r=t},function(t){a=t}],execute:function(){t("MetadataKey",i="di:propInjectables"),c=function(t){function e(e){void 0===e&&(e=a.Container.instance),t.call(this),this.container=e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return o||(o=new e)},enumerable:!0,configurable:!0}),e.prototype.invoke=function(t,e){var n=Object.create(t.prototype||Object.prototype);this.injectProperties(n,t);var r=Function.apply.call(t,n,e);return r&&"object"==typeof r&&(n=r,this.injectProperties(n,t)),n},e.prototype.injectProperties=function(t,e){var n=r.Metadata.getOwn(i,e||t.constructor);if(n)for(var a in n)this.injectProperty(t,a,n[a])},e.prototype.injectProperty=function(t,e,n){Object.defineProperty(t,e,{value:this.container.get(n)})},e}(a.ClassActivator),t("PropertyClassActivator",c)}}});