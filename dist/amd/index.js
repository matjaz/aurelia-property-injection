var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);n.prototype=e.prototype,t.prototype=new n};define(["require","exports","aurelia-metadata","aurelia-dependency-injection"],function(t,e,n,a){function i(t,e){return e?void r(t,e):function(e,n){o(e,n,t)}}function r(t,e){var a=n.Metadata.getOwn("design:type",t,e);o(t,e,a)}function o(t,a,i){if(i){var r=t.constructor,o=n.Metadata.getOwn(e.MetadataKey,r);if(!o){var c=n.Metadata.getOwn(n.Metadata.instanceActivator,r);if(c){if(!(c instanceof s))throw new Error("Instance activator already set. Can not use property injection.")}else n.Metadata.define(n.Metadata.instanceActivator,s.instance,r);o={},n.Metadata.define(e.MetadataKey,o,r)}o[a]=i}}e.MetadataKey="di:propInjectables";var c,s=function(t){function i(e,n){void 0===e&&(e=a.Container.instance),void 0===n&&(n=a.ClassActivator.instance),t.call(this),this.container=e,this.classActivator=n,this.container=e,this.classActivator=n}return __extends(i,t),Object.defineProperty(i,"instance",{get:function(){return c||(c=new i)},enumerable:!0,configurable:!0}),i.prototype.invoke=function(t,a){var i=this.classActivator.invoke(t,a),r=n.Metadata.getOwn(e.MetadataKey,t);if(r)for(var o in r)this.injectProperty(i,o,r[o]);return i},i.prototype.injectProperty=function(t,e,n){Object.defineProperty(t,e,{value:this.container.get(n)})},i}(ClassActivator);e.PropertyClassActivator=s,e.inject=i});